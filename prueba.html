<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Gestión de Pedidos - Hamburguesería</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }

        #container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .zona {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            width: 48%;
        }

        h2 {
            text-align: center;
        }

        button {
            display: block;
            width: 100%;
            padding: 10px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
        }

        button:hover {
            background: #219150;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        li {
            margin: 5px 0;
        }

        select, input[type="number"] {
            width: 100%;
            padding: 8px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        #zona-display ul {
            margin-top: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background: #eee;
        }

    </style>
</head>
<body>

    <h1>Gestión de Pedidos - Hamburguesería</h1>

    <div id="container">
        
        <!-- Zona de Pedido -->
        <div id="zona-pedido" class="zona">
            <h2>Zona de Pedido</h2>

            <h3>Producto Principal:</h3>
            <select id="producto">
                <option value="hamburguesa" data-precio="5.00">Hamburguesa - 5.00€</option>
                <option value="perrito" data-precio="3.50">Perrito Caliente - 3.50€</option>
                <option value="bocadillo" data-precio="4.00">Bocadillo - 4.00€</option>
            </select>

            <h3>Ingredientes adicionales (0.50€ c/u):</h3>
            <ul>
                <li><input type="checkbox" value="Bacon"> Bacon</li>
                <li><input type="checkbox" value="Cebolla caramelizada"> Cebolla caramelizada</li>
                <li><input type="checkbox" value="Huevo frito"> Huevo frito</li>
                <li><input type="checkbox" value="Champiñones"> Champiñones</li>
                <li><input type="checkbox" value="Jalapeños"> Jalapeños</li>
                <li><input type="checkbox" value="Mayonesa especial"> Mayonesa especial</li>
            </ul>

            <h3>Complementos:</h3>
            <ul>
                <li><input type="checkbox" value="Patatas fritas" data-precio="2.00"> Patatas fritas - 2.00€</li>
                <li><input type="checkbox" value="Ensalada" data-precio="1.50"> Ensalada - 1.50€</li>
                <li><input type="checkbox" value="Aros de cebolla" data-precio="2.50"> Aros de cebolla - 2.50€</li>
            </ul>

            <h3>Bebida:</h3>
            <select id="bebida">
                <option value="Agua" data-precio="1.00">Agua - 1.00€</option>
                <option value="Refresco" data-precio="1.50">Refresco - 1.50€</option>
                <option value="Cerveza" data-precio="2.00">Cerveza sin alcohol - 2.00€</option>
            </select>

            <h3>Cantidad:</h3>
            <input type="number" id="cantidad" value="1" min="1" max="50">

            <h3>Total: <span id="total">0.00</span>€</h3>

            <button onclick="confirmarPedido()">Confirmar Pedido</button>
        </div>

        <!-- Zona de Display -->
        <div id="zona-display" class="zona">
            <h2>Pedidos en Proceso</h2>
            <ul id="lista-pedidos"></ul>
        </div>

    </div>

    <script>
        let contadorPedido = localStorage.getItem("ultimoPedido") ? parseInt(localStorage.getItem("ultimoPedido")) : 0;

        function calcularTotal() {
            let producto = document.getElementById("producto");
            let precioBase = parseFloat(producto.options[producto.selectedIndex].dataset.precio);
            
            let ingredientes = document.querySelectorAll("#zona-pedido input[type='checkbox']:checked");
            let totalIngredientes = ingredientes.length * 0.50;

            let totalComplementos = 0;
            ingredientes.forEach(ing => {
                if (ing.dataset.precio) {
                    totalComplementos += parseFloat(ing.dataset.precio);
                }
            });

            let bebida = document.getElementById("bebida");
            let precioBebida = parseFloat(bebida.options[bebida.selectedIndex].dataset.precio);

            let cantidad = parseInt(document.getElementById("cantidad").value);

            let total = (precioBase + totalIngredientes + totalComplementos + precioBebida) * cantidad;
            document.getElementById("total").textContent = total.toFixed(2);
        }

        function confirmarPedido() {
            contadorPedido++;
            localStorage.setItem("ultimoPedido", contadorPedido);

            let pedido = {
                numero: contadorPedido,
                producto: document.getElementById("producto").value,
                cantidad: document.getElementById("cantidad").value,
                total: document.getElementById("total").textContent
            };

            let listaPedidos = document.getElementById("lista-pedidos");
            let nuevoPedido = document.createElement("li");
            nuevoPedido.textContent = `Pedido ${pedido.numero}: ${pedido.producto} x${pedido.cantidad} - ${pedido.total}€`;
            listaPedidos.appendChild(nuevoPedido);

            localStorage.setItem(`pedido${contadorPedido}`, JSON.stringify(pedido));
        }

        document.querySelectorAll("#zona-pedido input, #producto, #bebida, #cantidad").forEach(element => {
            element.addEventListener("change", calcularTotal);
        });

        calcularTotal();
    </script>

</body>
</html>
