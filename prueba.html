<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Gestión de Pedidos - Hamburguesería</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }

        #container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .zona {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            width: 48%;
        }

        h2 {
            text-align: center;
        }

        button {
            display: block;
            width: 100%;
            padding: 10px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
        }

        button:hover {
            background: #219150;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        li {
            margin: 5px 0;
        }

        select, input[type="number"] {
            width: 100%;
            padding: 8px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        #zona-display ul {
            margin-top: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background: #eee;
        }
        /* Estilo para el contenedor de productos */
.productos {
    display: flex;
    justify-content: space-around;
    gap: 20px;
}

.producto {
    text-align: center;
    cursor: pointer;
}

/* Ocultamos los checkboxes */
.producto-checkbox {
    display: none;
}

/* Estilo para la imagen cuando el checkbox está marcado */
.producto-checkbox:checked + label img {
    border: 3px solid green; /* Borde verde para indicar que está seleccionado */
    box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
}

/* Estilo para la imagen cuando no está seleccionada */
.producto-checkbox:not(:checked) + label img {
    border: 3px solid transparent;
    box-shadow: none;
}

/* Aseguramos que las imágenes tengan un tamaño adecuado */
.producto img {
    width: 100px;
    height: 100px;
}

/* Opcional: hacer que el texto esté justo debajo de la imagen */
.producto p {
    margin-top: 10px;
}

    </style>
    <script>
        let total = 0; // Total inicial

function actualizarTotal() {
    // Inicializamos el total en 0
    total = 0;

    // Seleccionamos todos los checkboxes de productos
    const checkboxes = document.querySelectorAll('.producto-checkbox:checked');

    // Sumamos el precio de cada producto seleccionado
    checkboxes.forEach(checkbox => {
        total += parseFloat(checkbox.getAttribute('data-precio'));
    });

    // Mostramos el total actualizado
    document.getElementById('total').textContent = 'Total: €' + total.toFixed(2);
}

    </script>
</head>
<body>

    <h1>Gestión de Pedidos - Hamburguesería</h1>

    <div id="container">
        
        <!-- Zona de Pedido -->
        <div id="zona-pedido" class="zona">
            <h2>Zona de Pedido</h2>

            <div class="productos">
                <div class="producto">
                    <input type="checkbox" id="hamburguesa" class="producto-checkbox" data-precio="5.00" onchange="actualizarTotal()">
                    <label for="hamburguesa">
                        <img src="imagenes/hamburguesa.png" alt="Hamburguesa">
                        <p>Hamburguesa - 5.00€</p>
                    </label>
                </div>
                <div class="producto">
                    <input type="checkbox" id="perrito" class="producto-checkbox" data-precio="3.50" onchange="actualizarTotal()">
                    <label for="perrito">
                        <img src="imagenes/perrito.png" alt="Perrito Caliente">
                        <p>Perrito Caliente - 3.50€</p>
                    </label>
                </div>
                <div class="producto">
                    <input type="checkbox" id="bocadillo" class="producto-checkbox" data-precio="4.00" onchange="actualizarTotal()">
                    <label for="bocadillo">
                        <img src="imagenes/bocadillo.png" alt="Bocadillo">
                        <p>Bocadillo - 4.00€</p>
                    </label>
                </div>
            </div>
            
            <!-- Repetir lo mismo para Bebidas y Complementos -->
            

            <h3>Cantidad:</h3>
            <input type="number" id="cantidad" value="1" min="1" max="50">

            <h3>Total: <span id="total">0.00</span>€</h3>

            <button onclick="confirmarPedido()">Confirmar Pedido</button>
        </div>

        <!-- Zona de Display -->
        <div id="zona-display" class="zona">
            <h2>Pedidos en Proceso</h2>
            <ul id="lista-pedidos"></ul>
        </div>

    </div>

    <script>
        let contadorPedido = localStorage.getItem("ultimoPedido") ? parseInt(localStorage.getItem("ultimoPedido")) : 0;

        function calcularTotal() {
            let producto = document.getElementById("producto");
            let precioBase = parseFloat(producto.options[producto.selectedIndex].dataset.precio);
            
            let ingredientes = document.querySelectorAll("#zona-pedido input[type='checkbox']:checked");
            let totalIngredientes = ingredientes.length * 0.50;

            let totalComplementos = 0;
            ingredientes.forEach(ing => {
                if (ing.dataset.precio) {
                    totalComplementos += parseFloat(ing.dataset.precio);
                }
            });

            let bebida = document.getElementById("bebida");
            let precioBebida = parseFloat(bebida.options[bebida.selectedIndex].dataset.precio);

            let cantidad = parseInt(document.getElementById("cantidad").value);

            let total = (precioBase + totalIngredientes + totalComplementos + precioBebida) * cantidad;
            document.getElementById("total").textContent = total.toFixed(2);
        }

        function confirmarPedido() {
            contadorPedido++;
            localStorage.setItem("ultimoPedido", contadorPedido);

            let pedido = {
                numero: contadorPedido,
                producto: document.getElementById("producto").value,
                cantidad: document.getElementById("cantidad").value,
                total: document.getElementById("total").textContent
            };

            let listaPedidos = document.getElementById("lista-pedidos");
            let nuevoPedido = document.createElement("li");
            nuevoPedido.textContent = `Pedido ${pedido.numero}: ${pedido.producto} x${pedido.cantidad} - ${pedido.total}€`;
            listaPedidos.appendChild(nuevoPedido);

            localStorage.setItem(`pedido${contadorPedido}`, JSON.stringify(pedido));
        }

        document.querySelectorAll("#zona-pedido input, #producto, #bebida, #cantidad").forEach(element => {
            element.addEventListener("change", calcularTotal);
        });

        calcularTotal();
    </script>

</body>
</html>
